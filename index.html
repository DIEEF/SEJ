<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	text-align:justify;
	line-height:150%;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
h1
	{mso-style-link:"Título 1 Car";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.6pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:-21.6pt;
	line-height:150%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;}
h2
	{mso-style-link:"Título 2 Car";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:28.8pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:-28.8pt;
	line-height:150%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:18.0pt;
	font-family:"Times New Roman",serif;
	letter-spacing:-.5pt;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-link:"Subtítulo Car";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	text-align:justify;
	line-height:150%;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:36.0pt;
	text-align:justify;
	line-height:150%;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.MsoBibliography, li.MsoBibliography, div.MsoBibliography
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:-36.0pt;
	line-height:200%;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
span.Ttulo1Car
	{mso-style-name:"Título 1 Car";
	mso-style-link:"Título 1";
	font-family:"Times New Roman",serif;
	font-weight:bold;}
span.Ttulo2Car
	{mso-style-name:"Título 2 Car";
	mso-style-link:"Título 2";
	font-family:"Times New Roman",serif;
	font-weight:bold;}
span.SubttuloCar
	{mso-style-name:"Subtítulo Car";
	mso-style-link:Subtítulo;
	font-family:"Times New Roman",serif;
	font-weight:bold;}
.MsoChpDefault
	{font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:106%;}
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:70.9pt 70.9pt 70.9pt 70.9pt;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=ES-MX link="#0563C1" vlink="#954F72">

<div class=WordSection1>

<p class=MsoTitle><span style='font-size:20.0pt'>getmxdata</span></p>

<p class=MsoTitle><span style='font-size:20.0pt'>Importar datos de INEGI y
Banxico directo a Stata </span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>El comando getmxdata permite importar datos de Instituto Nacional
de Estadística y Geografía (INEGI), específicamente de las series disponibles
en el Banco de Información Económica (BIE), y del Sistema de Información
Económica (SIE) del Banco de México directamente a Stata. A través del uso de
las APIs de estas dos instituciones, el comando realiza el manejo de datos
necesarios para que el usuario obtenga en la directamente en el software las
variables que desea importar, asignar una descripción breve y obtener una
variable en formato de fecha sobre la frecuencia de los datos.</p>

<p class=MsoNormal>El uso de las API requiere de cierto grado de conocimiento
en programación, ya que en general están creadas para desarrolladores, no
obstante algunos economistas han dado un uso alternativo a estos servicios web,
el cual es poder obtener información de fuentes no tradiciones, de hecho, su
uso en la literatura empírica como fuente primaria de información para
variables proxys clave va en aumento, también pueden usarse para acceder a la
información de fuentes tradiciones y oficiales, su uso y disponibilidad debe
ser promovido, pues algunas de sus ventajas es que nos permite ser más
eficientes.</p>

<p class=MsoNormal>La existencia de comandos como este es necesaria, pues
permite que aquellos que no tengan las bases de programación para generar una
consulta estandarizada usando APIs puedan también aprovechar sus beneficios.
Otra ventaja de promover este comando es que facilita su uso al disminuir el
número de parámetros que se necesitan imputar para que funcione el API al
transformar la consulta a una sintaxis que sea familiar para los usuarios.</p>

<h1>1 ¿Qué es una API?</h1>

<p class=MsoNormal>Un aAPI (Application Programming Interface) o “Interfaz de
Programación de Aplicaciones” es un conjunto de instrucciones y protocolos
predeterminados, que permiten que un software se comunique con otro a través de
internet (Meng et&nbsp;al., 2018). De esta manear una página web o un software
puede interactuar con otra página web o comunicarse con un servidor. Una
definición más precisa es la que ofrece Adams (2018), “API es un conjunto de
reglas que determinan como realizar una solicitud (o consulta) de un sistema en
particular y un conjunto de parámetros que definen cómo se devolverá la
respuesta por parte de este sistema”. Es decir, código que permite la
comunicación software a software.</p>

<p class=MsoNormal>&nbsp;Una API ofrece la misma funcionalidad que una página
HTML, pero hace que el contenido esté disponible en una manera diferente
(Verborgh et&nbsp;al., 2015). Aunque en general, estos servicios web están
orientados para desarrolladores, la necesidad de obtener información y conocer
patrones de información de fuentes de datos diversos y en tiempo real, como las
redes sociales, ha orientado a que hagamos uso de estos servicios para fines
diferentes para el que fueron creados, pasar del desarrollo de aplicaciones a
usarse para obtener y almacenar información de fuentes diferentes a las
tradicionales.</p>

<p class=MsoNormal>Una API del tipo REST (Representational State Transfer),
simula la experiencia del usuario al visitar un sitio web, aunque la diferencia
es que se realiza de manera automática por un software y a través de ciertos
parámetros se obtiene el resultado deseado. Este tipo APIs son cada vez más
populares y ofrece a los desarrolladores buen desempeño, existen otros tipos de
arquitectura o diseño de las API, como las API tipo SOAP (Simple Object Access
Protocol) (Jensen, 2015).</p>

<h1>2 Comando “getmxdata”</h1>

<p class=MsoNormal>getmxdata es un comando (o modulo) de Stata que permite
importar todas las series disponibles en el Banco de Información Económica
(BIE) de INEGI, que actualmente cuenta con más de 300 mil series, y del Sistema
de Información Económica (SIE) del Banco de México de manera automática
(Gonzalez, 2020), haciendo uso de las API que están disponibles para uso
público.</p>

<p class=MsoNormal>El comando genera las instrucciones necesarias para
consultar el API de INEGI (o Banxico), procesar los datos e importarlos en la
base de datos, genera una variable en formato de fecha (acorde a la frecuencia
de los datos) y asigna las etiquetas correspondientes a las variables.</p>

<h2>2.1<span style='font-size:7.0pt;line-height:150%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Sintaxis</h2>

<p class=MsoNormal>La sintaxis del comando es la siguiente:</p>

<p class=MsoNormal><b><i>getmxdata id_1 [id_2 … id_n], {bie | banxico}
key(token)</i></b></p>

<p class=MsoNormal>Donde id es el identificador asociado a las series que se
desean importar, ya sea de INEGI o del Banco de México. Cada institución asigna
un identificador único o clave para cada variable, para conocer estos
identificadores es necesario consultar el catálogo de series de ambos servicios
disponibles en línea.</p>

<p class=MsoNormal>Opciones:</p>

<p class=MsoNormal><b>bie</b> se utiliza para especificar que las variables que
deseamos importan pertenecen al BIE de INEGI.</p>

<p class=MsoNormal><b>banxico</b> se utiliza para especificar que las variables
que deseamos importar pertenecen al SIE del Banco de México.</p>

<p class=MsoNormal><b>key (token)</b> para hacer uso del API de cualquiera de
los dos servicios web es necesario proporcionar un token, este es un requisito
que solicita el proveedor del servicio para dar acceso a la información. El
token generalmente combina caracteres alfanúmeros.</p>

<h1>3 Usar getmxdata para importar datos a Stata</h1>

<p class=MsoNormal>Para utilizar el comando se debe obtener previamente un
token de cada servicio web. A través de las siguientes ligas de <a
href="http://www3.inegi.org.mx/sistemas/api/indicadores/v1/tokenVerify.aspx?fbclid=IwAR2LNuR508aM6UgR5-R2d0HsPe0KR81pmK3lnXkEMgmlVlKGsidO9r25fck">INEGI</a>
y de <a href="https://www.banxico.org.mx/SieAPIRest/service/v1/token">Banxico</a>
pueden obtener este código. Los identificadores de las series se pueden
consultar en el <a
href="https://www.inegi.org.mx/servicios/api_indicadores.html">catálogo de
series INEGI</a> y en el <a
href="https://www.banxico.org.mx/SieAPIRest/service/v1/doc/catalogoSeries">catálogo
de series de Banxico</a>.</p>

<p class=MsoNormal>A continuación se muestra algunos ejemplos de este comando,
aunque se recomienda que utilicen sus propios token, se obtuvieron token de
ambos servicios que se puede utilizar para replicar estos ejemplos. Estos son:</p>

<p class=MsoListParagraph><span style='font-family:Symbol'>·</span><span
style='font-size:7.0pt;line-height:150%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>INEGI: 88e508a1-00b8-3392-03d5-71f5d83c212c</p>

<p class=MsoListParagraph><span style='font-family:Symbol'>·</span><span
style='font-size:7.0pt;line-height:150%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Banxico:
a6d8dce56a88eda43cdfacc0b3031b7b964fbb1a990ae1fb5a11ee8c2f15336e</p>

<p class=MsoNormal>El primer paso consiste en instalar el módulo getmxdata,
también es necesario instalar el comando moss, ya que también es una
herramienta necesaria para funcionamiento del primero. Se ejecuta en la barra
de comando las siguientes instrucciones:</p>

<p class=MsoNormal><b><span lang=EN-US>ssc install getmxdata</span></b></p>

<p class=MsoNormal><b><span lang=EN-US>ssc install moss</span></b></p>

<h2>3.1<span style='font-size:7.0pt;line-height:150%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Importar datos de INEGI</h2>

<p class=MsoNormal>El siguiente ejemplo muestra como importar datos del BIE, ya
sea que se desee importar solo una o varias variables la sintaxis es la misma.
Para ese ejemplo se encuentra el identificador del PIB trimestral a precios
corrientes, al consultar el catálogo podrá corroborar que su ID es “494072”,
importaremos además el deflactor del PIB (Índice de precios implícitos) cuyo ID
es “495466”.</p>

<p class=MsoNormal>Una vez identificados los identificadores de las variables
de interés ejecutamos la siguiente línea:</p>

<p class=MsoNormal><b><i>getmxdata 494072 495466, bie
key(88e508a1-00b8-3392-03d5-71f5d83c212c)</i></b></p>

<p class=MsoNormal>Nótese que dado que Stata no permite nombres de variables
numéricas, se añade el prefijo “v_” al identificador de cada variable para
evitar este error, de esta manera, en la base de datos el nombre de la variable
del PIB es “v_494072” y el nombre del deflactor del PIB es v_495466.</p>

<p class=MsoNormal>El comando ejecuta las instrucciones necesarias para
descargar ambas series en un archivo temporal y juntarlos en una sola base de
datos, generar la variable de tiempo de acuerdo con la frecuencia y asigna las
etiquetas (descripción) correspondientes a cada variable.</p>

<p class=MsoNormal>Dado que se genera esta variable de tiempo, la frecuencia de
las variables debe ser homogénea, debido a esto, el comando solo permite
importar variables que tengan la misma frecuencia en una misma consulta. A
través de la lectura de los metadatos, se determina si las variables son de
frecuencia homogénea, si no es así se detendrá y marcará error. Si se desean
importar variables con frecuencia diferentes se deben realizar diferentes
consultas.</p>

<p class=MsoNormal>En este ejemplo ambas variables son trimestral, la variable
fecha, indica los trimestres en el formato de tiempo de Stata, mientras que la
variable “Periodo” es la variable de tiempo original que se descarga junto con
la información.</p>

<p class=MsoNormal>Los datos importados no requieren operación previa, por lo
que es posible comenzar a realizar algún análisis. Por ejemplo, calcular el PIB
real y graficarlo, ejecutamos las siguientes instrucciones:</p>

<p class=MsoNormal><b><i>tsset fecha</i></b></p>

<p class=MsoNormal><b><i>rename v_494072 PIB</i></b></p>

<p class=MsoNormal><b><i>rename v_495466 Deflactor</i></b></p>

<p class=MsoNormal><b><i>gen PIBr = (PIB/Deflactor)*100</i></b></p>

<p class=MsoNormal><b><i>label var PIBr &quot;PIB real&quot;</i></b></p>

<p class=MsoNormal><b><i><span lang=EN-US>tsline PIB PIBr, legend(col(1) )
ylabel(#2)</span></i></b></p>

<h2>3.2<span style='font-size:7.0pt;line-height:150%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Importar datos de Banxico</h2>

<p class=MsoNormal>El siguiente ejemplo muestra como importar datos haciendo
uso del API del Banco de México, a diferencia de INEGI, los identificadores de
sus series combinan caracteres alfanuméricos, al importar datos de esta fuente
las variables llevan por nombre el ID de las variables sin añadir ningún
prefijo.</p>

<p class=MsoNormal>En este ejemplo se importan las remesas por monto y número
de operaciones realizadas, al consultar el catálogo de variables el
identificador es “SE28533” y “SE28528” respectivamente. Por lo tanto la
instrucción a ejecutar es la siguiente:</p>

<p class=MsoNormal><b><i>getmxdata SE28533 SE28528 ,banxico
key(a6d8dce56a88eda43cdfacc0b3031b7b964fbb1a990ae1fb5a11ee8c2f15336e)</i></b></p>

<p class=MsoNormal>El nombre de las variables es el mismo que su identificador,
la variable “fecha” indica los trimestres en el formato de tiempo de Stata,
mientras que la variable “Periodo” es la variable de tiempo original que se
descarga junto con la información. Al igual que el caso anterior, el comando
ejecuta las instrucciones necesarias para asignar las etiquetas a las
variables, y también solo permite importar cualquiera cantidad de variables si
son de la misma frecuencia.</p>

<h1>4 Conclusiones</h1>

<p class=MsoNormal>El uso de APIs requieren de cierto grado de conocimiento en
programación, ya que se deben imputar ciertos parámetros específicos acorde a
lo que se desea consultar, por esta razón, herramientas como el comando
“getmxdata” son necesarias, ya que facilita su uso para aquellos que no cuentan
con bases de programación, al reducir el número de parámetros que necesitan
imputar.</p>

<p class=MsoNormal>En el caso específico para usuarios de Stata, ofrecer una
sintaxis con la cual están familiarizados, amplia los beneficiarios
potenciales, fomentando su uso y permitiendo obtener las ventajas que ofrecen
las APIs sin la necesidad de programar desde cero una consulta. Incluso para
quienes cuentan con bases de programación, si existe un módulo que realice la
consulta de interés, no tendrán que invertir tiempo en crearla o en su caso
pueden modificar una rutina existente que se adapte a sus necesidades.</p>

<p class=MsoNormal>El uso de APIs debe ser promovido entre las instituciones de
gobierno, ya que son las encargadas de crear la información nacional. también
se debe promover su uso para la investigación empírica, pues permiten obtener
datos que pueden enriquecer el análisis que ofrecen las encuestas.</p>

<p class=MsoSubtitle>Referencias</p>

<p class=MsoBibliography style='line-height:150%'>Adams Jr, R. M. (2018). <span
lang=EN-US>Overcoming disintermediation: A call for librarians to learn to use
web service APIs. <i>Library Hi Tech</i>, <i>36</i>(1), 180–190.
https://doi.org/10.1108/LHT-03-2017-0056</span></p>

<p class=MsoBibliography style='line-height:150%'><span lang=EN-US>Gonzalez, M.
(2020). <i>GETMXDATA: Stata module to import Mexican economic data</i>.
Statistical Software Components S458726, Boston College Department of
Economics. &nbsp;https://ideas.repec.org/c/boc/bocode/s458726.html</span></p>

<p class=MsoBibliography style='line-height:150%'><span lang=EN-US>Jensen, C.
T. (2015). APIs For Dummies, IBM Limited Edition. 57.</span></p>

<p class=MsoBibliography style='line-height:150%'><span lang=EN-US>Meng, M.,
Steinhardt, S., &amp; Schubert, A. (2018). Application Programming Interface
Documentation: What Do Software Developers Want? <i>Journal of Technical
Writing and Communication</i>, <i>48</i>, 295–330. https://doi.org/10.1177/0047281617721853</span></p>

<p class=MsoBibliography style='line-height:150%'><span lang=EN-US>Verborgh,
R., van Hooland, S., Cope, A. S., Chan, S., Mannens, E., &amp; Van de Walle, R.
(2015). The fallacy of the multi-API culture: Conceptual and practical benefits
of Representational State Transfer (REST). <i>Journal of Documentation</i>, <i>71</i>(2),
233–252. https://doi.org/10.1108/JD-07-2013-0098&nbsp;</span></p>

</div>

</body>

</html>
